<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Terror en el Campus - Evento Oficial</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="shortcut icon" href="/Images/image-preview-ico.ico" type="image/x-icon" width="30px" height="30px">
    <link
        href="https://fonts.googleapis.com/css2?family=Creepster&family=Nosifer&family=Roboto:wght@400;700&display=swap"
        rel="stylesheet">

</head>

<body>
    <!-- Auth Bar -->
    <div class="auth-bar" id="authBar">
        <div class="container auth-content">
            <img src="/Images/image_logo-removebg-preview.png" alt="Logo" width="180px">
            <span id="userDisplay">Â¿Te atreves a entrar?</span>
            <div class="auth-actions" id="authActions">
                <button class="btn-ghost small" onclick="toggleModal('login')">Entrar</button>
                <button class="btn-blood small" onclick="toggleModal('register')">Crear Cuenta</button>
            </div>
            <div class="auth-user hidden" id="authUser">
                <span id="usernameSpan">Espectro Invitado</span>
                <button class="btn-ghost small" onclick="toggleCart()">ðŸ›’ Ver Cesta</button>
                <button class="btn-ghost small" onclick="logout()">Huir</button>
            </div>
        </div>
    </div>

    <div class="container main-container">
        <!-- Header -->
        <header class="main-header">
            <h1 class="glitch-text" data-text="CARTELERA PADRENUESTRO">CARTELERA PADRENUESTRO</h1>
            <p class="subtitle fade-in">El evento paranormal del siglo</p>
        </header>

        <!-- Hero / Poster Section -->
        <section class="poster-section">
            <div class="poster-card">
                <div class="poster-visual">
                    <div class="moon"></div>
                    <h2>NOCHE DE<br><span class="blood-text">ALMAS PERDIDAS</span></h2>
                    <p class="date">31 DE OCTUBRE | 00:00 AM</p>
                    <p class="location">CEMENTERIO CENTRAL &bull; CAMPUS</p>
                </div>
            </div>
            <!-- Video Placeholder Button -->
            <button class="btn-video pulse-anim" onclick="playVideo()">
                <span>â–¶ VER TRAILER OFICIAL</span>
            </button>
        </section>

        <!-- Tickets Section -->
        <section class="section tickets-section" id="tickets">
            <h2 class="section-title">Adquiere tu Pase al Inframundo</h2>
            <div class="tickets-grid">
                <div class="ticket-card">
                    <h3>Mortal</h3>
                    <p class="price">$6.66</p>
                    <ul>
                        <li>Acceso General</li>
                        <li>1 Vida Extra</li>
                    </ul>
                    <button class="btn-buy" onclick="addToCart('Ticket Mortal', 6.66)">Comprar</button>
                </div>
                <div class="ticket-card premium">
                    <h3>Demonio</h3>
                    <p class="price">$13.13</p>
                    <ul>
                        <li>Acceso VIP</li>
                        <li>Bebida de Sangre</li>
                        <li>Inmunidad Temporal</li>
                    </ul>
                    <button class="btn-buy" onclick="addToCart('Ticket Demonio', 13.13)">Comprar</button>
                </div>
            </div>
        </section>

        <!-- Mini Game Section -->
        <section class="section game-section" id="game">
            <div class="game-container">
                <div class="game-header">
                    <h2><span class="blood-text">SOBREVIVE</span> AL JUEGO</h2>
                    <p>PuntuaciÃ³n: <span id="score">0</span></p>
                </div>
                <div class="game-area" id="gameArea">
                    <button class="btn-start" onclick="startGame()">JUGAR SI TE ATREVES</button>
                    <div id="target" class="ghost-target hidden" onclick="hitTarget()">ðŸ‘»</div>
                </div>
            </div>
        </section>

        <!-- Store Section -->
        <section class="section store-section" id="store">
            <h2 class="section-title">Tienda Maldita</h2>
            <div class="store-grid">
                <!-- Products will be injected or static -->
                <!-- Los productos serÃ¡n cargados dinÃ¡micamente desde el inframundo (API) -->
                <p id="loadingStore" style="color: var(--spectral-green); text-align: center; width: 100%;">Invocando
                    objetos malditos...</p>
            </div>
        </section>

    </div>

    <!-- Floating Chat Bot -->
    <div class="chat-widget closed" id="chatWidget">
        <div class="chat-header" onclick="toggleChat()">
            <span>ðŸ’¬ OrÃ¡culo</span>
        </div>
        <div class="chat-body" id="chatBody">
            <div class="chat-messages" id="chatMessages">
                <div class="msg bot">Estoy aquÃ­... Â¿quÃ© deseas saber?</div>
            </div>
            <div class="chat-input-area">
                <input type="text" id="chatInput" placeholder="Pregunta a los espÃ­ritus...">
                <button onclick="sendMessage()">ðŸ”®</button>
            </div>
        </div>
    </div>

    <!-- Cart Overlay -->
    <div class="cart-overlay hidden" id="cartOverlay">
        <h3>Tu Cesta FÃºnebre</h3>
        <ul id="cartList"></ul>
        <p>Total: $<span id="cartTotal">0.00</span></p>
        <button class="btn-blood" onclick="checkout()">Pagar con tu Alma</button>
        <button class="btn-ghost" onclick="toggleCart()">Cerrar</button>
    </div>

    <!-- Auth Modals -->
    <div id="modalOverlay" class="modal-overlay hidden">
        <div class="modal">
            <h2 id="modalTitle">Registro</h2>
            <input type="text" id="usernameInput" placeholder="Nombre de la vÃ­ctima">
            <input type="password" id="passwordInput" placeholder="ContraseÃ±a de ultratumba" style="margin-top: 10px;">
            <button class="btn-blood" onclick="handleAuthSubmit()">Confirmar</button>
            <button class="btn-text" onclick="toggleModal()">Cancelar</button>
        </div>
    </div>

    <!-- Notification Modal -->
    <div id="notificationModal" class="modal-overlay hidden" style="z-index: 4000;">
        <div class="modal notification-content">
            <h2 id="notifTitle" class="creepy-font">Mensaje del MÃ¡s AllÃ¡</h2>
            <p id="notifMessage">...</p>
            <button class="btn-blood small" onclick="closeNotification()">Entendido</button>
        </div>
    </div>

    <!-- Video Modal -->
    <div id="videoModal" class="video-modal hidden">
        <div class="video-container">
            <button class="close-video-btn" onclick="closeVideo()">âœ– CERRAR</button>
            <div class="video-wrapper">
                <!-- Replace src with your trailer video URL -->
                <iframe id="trailerFrame" width="100%" height="100%"
                    src="Videos/CreacioÌn_de_Video_para_Evento_de_Terror.mp4" title="Trailer Oficial" frameborder="0"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                    allowfullscreen></iframe>
            </div>
            <p class="video-caption">Â¿PREPARADO PARA GRITAR?</p>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>